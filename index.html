<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Search</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        .highlight {
            background-color: #ff0;
        }
    </style>
</head>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
    integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    const frontendArticles = [
        { title: "What is HTML?", content: "HTML is the structure of a webpage. It defines the layout and content.", date: "2025-06-01" },
        { title: "CSS Basics", content: "CSS styles your HTML. It controls colors, fonts, spacing, and layout.", date: "2025-06-02" },
        { title: "Intro to JavaScript", content: "JavaScript adds interactivity to websites like buttons, sliders, and popups.", date: "2025-06-03" },
        { title: "DOM Explained", content: "The DOM is how JavaScript accesses and changes HTML elements.", date: "2025-06-04" },
        { title: "Responsive Design", content: "Websites should look good on all screen sizes using media queries.", date: "2025-06-05" },
        { title: "Flexbox Guide", content: "Flexbox is a CSS layout system for aligning and spacing items.", date: "2025-06-06" },
        { title: "CSS Grid Overview", content: "Grid lets you design web layouts in rows and columns.", date: "2025-06-07" },
        { title: "JavaScript Events", content: "Handle user actions like clicks, scrolls, and input with event listeners.", date: "2025-06-08" },
        { title: "Forms in HTML", content: "Forms collect user input and send it to servers.", date: "2025-06-09" },
        { title: "Validation in JS", content: "Check form inputs with JavaScript before submitting.", date: "2025-06-10" },
        { title: "What is React?", content: "React is a JavaScript library for building dynamic UIs with components.", date: "2025-06-11" },
        { title: "JSX in React", content: "JSX is a syntax in React that mixes HTML with JavaScript.", date: "2025-06-12" },
        { title: "React Props & State", content: "Props pass data; state tracks changes in React components.", date: "2025-06-13" },
        { title: "Hooks in React", content: "Hooks like useState and useEffect add features to function components.", date: "2025-06-14" },
        { title: "Intro to Vue.js", content: "Vue is a progressive JavaScript framework for UIs.", date: "2025-06-15" },
        { title: "Single Page Apps", content: "SPAs load one HTML page and update content dynamically.", date: "2025-06-16" },
        { title: "CSS Transitions", content: "Add smooth animations to elements using CSS transitions.", date: "2025-06-17" },
        { title: "JavaScript Arrays", content: "Arrays store lists of items and offer many useful methods.", date: "2025-06-18" },
        { title: "Promises in JS", content: "Promises handle async tasks like fetching data from APIs.", date: "2025-06-19" },
        { title: "Async/Await", content: "Simplifies handling promises for cleaner async code.", date: "2025-06-20" },
        { title: "APIs with Fetch", content: "Use fetch() to get data from APIs in JavaScript.", date: "2025-06-21" },
        { title: "Intro to TypeScript", content: "TypeScript adds types to JavaScript for safer code.", date: "2025-06-22" },
        { title: "Using npm", content: "npm installs packages and manages dependencies for projects.", date: "2025-06-23" },
        { title: "Frontend vs Backend", content: "Frontend is the UI; backend handles data and logic.", date: "2025-06-24" },
        { title: "Using Git for Projects", content: "Git tracks code changes and helps with collaboration.", date: "2025-06-25" },
        { title: "What is Webpack?", content: "Webpack bundles JS, CSS, and assets for production.", date: "2025-06-26" },
        { title: "Accessibility Basics", content: "Make websites usable for everyone, including screen reader users.", date: "2025-06-27" },
        { title: "SEO for Developers", content: "Use proper HTML and tags to help pages rank in search engines.", date: "2025-06-28" },
        { title: "Deploying to Netlify", content: "Netlify lets you host frontend apps easily with Git integration.", date: "2025-06-29" },
        { title: "Using DevTools", content: "Browser DevTools help you debug and optimize frontend code.", date: "2025-06-30" }
    ];
    $(document).ready(() => {
        $("#resultsCount").html("Enter text to search posts.");
        frontendArticles.forEach((article, i) => {
            fillArticlesContainer(frontendArticles);
        });
        $("#searchBox").on("input", (e) => {
            if (e.target.value == "" || !e.target.value) {
                fillArticlesContainer(frontendArticles)

            } else {

                $('#articlesContainer').empty();
                fillArticlesContainer(frontendArticles.filter(article => article.title.toLowerCase().includes(e.target.value.toLowerCase()) || article.content.toLowerCase().includes(e.target.value.toLowerCase())), e.target.value)
            }
        })
    })
    function fillArticlesContainer(articles, searchText = "") {
        if (articles.length == frontendArticles.length) {
            $("#resultsCount").html("Enter text to search posts.");

        } else {
            if (articles.length == 1) {

                $("#resultsCount").html(`<b>1 post</b> was found.`);
            } else if (articles.length > 1) {
                $("#resultsCount").html(`<b>${articles.length} posts</b> were found.`);
            } else {
                $("#resultsCount").html("No posts were found.");
            }
        }
        $('#articlesContainer').html("")
        articles.forEach((article, i) => {
            $('#articlesContainer').append(`
                <div class="mb-3">
                        <h3 class="card-title">${wrapWordWithSpan(article.title, searchText)}</h3>
                        <p class="card-text"><small class="text-muted">Published on ${new Date(article.date).toLocaleDateString()}</small></p>
                        <p class="card-text">${wrapWordWithSpan(article.content, searchText)}</p>
                </div>
            `+ (i < articles.length ? '<hr class="my-4">' : ''));
        });
    }
    function escapeRegex(text) {
        return text.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }

    function wrapWordWithSpan(input, textToWrap) {
        if (textToWrap === "" || !textToWrap) {
            return input;
        }
        const escapedText = escapeRegex(textToWrap);
        const regex = new RegExp(`(${escapedText})`, 'gi');
        return input.replace(regex, (match) => `<span class='highlight'>${match}</span>`);
    }
</script>

<body>
    <div class="container mt-5">
        <div class="row">
            <div class="col-8">

                <h1>Search</h1>
                <input type="text" id="searchBox" class="form-control mb-3">
                <p id="resultsCount"></p>
                <div id="articlesContainer"></div>
            </div>

            <div class="col-4">

                <div class="card text-start">
                    <div class="card-body">
                        <p class="card-text"><b>bitsofcode.</b> Articles on Frontend Development. All articles are
                            writtenby Ire Aderinokun, Frontend Developer and User Interface Designer</p>
                        <button class="btn btn-primary btn-sm"><i class="fa-brands fa-twitter me-1"></i>Follow
                            @ireaderinokun</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

</body>

</html>